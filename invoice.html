<!DOCTYPE html>
<html class="light" lang="en">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>The Florist | Order Confirmation</title>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Plus+Jakarta+Sans:wght@400;500;700;800&display=swap" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" rel="stylesheet"/>
    <style>
        /* CSS: Core Styles & Custom Animations (Common) */
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .material-symbols-outlined { font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24; }
        .font-serif { font-family: 'Playfair Display', serif; }
        .animate-fadeIn { animation: fadeIn 1.5s ease-out; }
        #menu-toggle:checked ~ #mobile-menu { transform: translateX(0); }

        /* Custom Colors from Prompt */
        .color-primary { color: #D1A3A4; } /* Muted Rose Pink */
        .bg-primary { background-color: #D1A3A4; }
        .color-accent { color: #B49B6E; } /* Goldenrod Accent */
        .bg-accent { background-color: #B49B6E; }
        .bg-background-light { background-color: #F8F6F2; }
        .bg-background-dark { background-color: #1A1A1A; }
    </style>
    <script id="tailwind-config">
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#D1A3A4", /* Muted Rose Pink */
                        "background-light": "#F8F6F2",
                        "background-dark": "#1A1A1A",
                        "text-light": "#333333",
                        "text-dark": "#F8F6F2",
                        "accent": "#B49B6E" /* Goldenrod Accent */
                    },
                    fontFamily: {
                        "display": ["Plus Jakarta Sans", "sans-serif"],
                        "serif": ["Playfair Display", "serif"],
                    },
                    borderRadius: {"DEFAULT": "0.25rem", "lg": "0.5rem", "xl": "0.75rem", "full": "9999px"},
                },
            },
        }
    </script>
</head>
<body class="bg-background-light dark:bg-background-dark font-display text-text-light dark:text-text-dark">
<div class="relative w-full overflow-x-hidden">

    <header class="sticky top-0 z-50 flex items-center justify-between whitespace-nowrap border-b border-solid border-black/10 dark:border-white/10 bg-background-light/90 dark:bg-background-dark/90 backdrop-blur-md px-6 md:px-10 lg:px-20 py-4">
        <div class="flex items-center gap-4 text-text-light dark:text-text-dark">
            <div class="text-3xl text-primary"><span class="material-symbols-outlined">local_florist</span></div>
            <h2 class="text-xl font-bold tracking-[-0.015em] font-serif">The Florist</h2>
        </div>
        
        <nav class="hidden md:flex flex-1 justify-center gap-9">
            <a class="text-sm font-medium hover:text-accent transition duration-300" href="index.html">Home</a>
            <a class="text-sm font-medium hover:text-accent transition duration-300" href="shop.html">Bouquets</a>
            <a class="text-sm font-medium hover:text-accent transition duration-300" href="auth.html">Account</a>
            <a class="text-sm font-medium hover:text-accent transition duration-300" href="orders.html">My Orders</a>
            <a class="text-sm font-medium hover:text-accent transition duration-300" href="about.html">About</a>
        </nav>
        
        <div class="flex items-center gap-2">
            <a href="auth.html" class="flex h-10 w-10 cursor-pointer items-center justify-center overflow-hidden rounded-full hover:bg-primary/10 dark:hover:bg-white/5 transition duration-300">
                <span class="material-symbols-outlined">person</span>
            </a>
            <a href="cart.html" class="relative flex h-10 w-10 cursor-pointer items-center justify-center overflow-hidden rounded-full bg-primary/20 text-primary hover:bg-primary transition duration-300 hover:text-white">
                <span class="material-symbols-outlined">shopping_bag</span>
                <span class="absolute top-1 right-1 block h-2 w-2 rounded-full bg-accent animate-pulse"></span>
            </a>
            
            <input type="checkbox" id="menu-toggle" class="sr-only">
            <label for="menu-toggle" class="md:hidden flex h-10 w-10 cursor-pointer items-center justify-center overflow-hidden rounded-full hover:bg-black/5 dark:hover:bg-white/5 transition duration-300">
                <span class="material-symbols-outlined">menu</span>
            </label>
        </div>
    </header>

    <nav id="mobile-menu" class="fixed inset-y-0 right-0 z-40 w-64 bg-background-light dark:bg-background-dark border-l border-black/10 dark:border-white/10 p-6 shadow-xl transform translate-x-full transition-transform duration-300 md:hidden">
        <div class="flex flex-col gap-4 pt-12">
            <a class="text-lg font-medium hover:text-accent transition duration-300" href="index.html">Home</a>
            <a class="text-lg font-medium hover:text-accent transition duration-300" href="shop.html">Bouquets</a>
            <a class="text-lg font-medium hover:text-accent transition duration-300" href="auth.html">Account</a>
            <a class="text-lg font-medium hover:text-accent transition duration-300" href="orders.html">My Orders</a>
            <a class="text-lg font-medium hover:text-accent transition duration-300" href="about.html">About</a>
        </div>
    </nav>

    <main class="max-w-4xl mx-auto flex-grow px-6 md:px-10 lg:px-20 py-12 animate-fadeIn">
        <div class="text-center mb-10">
            <span class="material-symbols-outlined text-green-500 text-6xl mb-4">check_circle</span>
            <h1 class="text-4xl font-serif font-bold tracking-[-0.033em] text-text-light dark:text-text-dark">Order Request Sent!</h1>
            <p class="mt-2 text-lg font-normal leading-normal text-green-600 dark:text-green-400">Please complete payment on WhatsApp to confirm your order.</p>
        </div>
        
        <div class="bg-white dark:bg-background-dark/50 p-6 sm:p-10 rounded-xl shadow-2xl border border-primary/20">
            <div class="flex justify-between items-start border-b border-black/10 dark:border-white/10 pb-6 mb-6">
                <div>
                    <h2 class="text-2xl font-serif font-bold text-accent">INVOICE SUMMARY</h2>
                    <p class="text-sm mt-1 text-text-light/70 dark:text-text-dark/70">Payment Pending via WhatsApp</p>
                </div>
                <div class="text-right">
                    <p class="text-lg font-bold text-text-light dark:text-text-dark">Order ID: <span id="invoice-order-id">TF-XXXXX</span></p>
                    <p class="text-sm text-text-light/70 dark:text-text-dark/70">Date: <span id="invoice-date">DD/MM/YYYY</span></p>
                </div>
            </div>

            <div class="mb-8">
                <h3 class="font-bold text-lg mb-4 border-b border-black/10 dark:border-white/10 pb-2">Items Ordered</h3>
                <table class="min-w-full table-auto">
                    <thead>
                        <tr class="text-left text-sm font-semibold text-text-light dark:text-text-dark/80">
                            <th class="py-2">Product</th>
                            <th class="py-2 text-center">Qty</th>
                            <th class="py-2 text-right">Price (Rs.)</th>
                            <th class="py-2 text-right">Total (Rs.)</th>
                        </tr>
                    </thead>
                    <tbody id="invoice-item-list" class="divide-y divide-black/5 dark:divide-white/5">
                        </tbody>
                </table>
            </div>

            <div class="flex justify-end">
                <div class="w-full sm:w-1/2 space-y-2">
                    <div class="flex justify-between text-base">
                        <span class="text-text-light/80 dark:text-text-dark/80">Subtotal:</span>
                        <span id="invoice-subtotal" class="font-medium">Rs. 0.00</span>
                    </div>
                    <div class="flex justify-between text-base">
                        <span class="text-text-light/80 dark:text-text-dark/80">Delivery Charge:</span>
                        <span id="invoice-delivery-charge" class="font-medium">Rs. 0.00</span>
                    </div>
                    <div class="flex justify-between text-xl font-bold pt-4 border-t border-black/10 dark:border-white/10">
                        <span>GRAND TOTAL:</span>
                        <span id="invoice-order-total" class="text-primary">Rs. 0.00</span>
                    </div>
                </div>
            </div>
            
            <div class="mt-8 pt-6 border-t border-black/10 dark:border-white/10">
                <h3 class="font-bold text-lg mb-2 text-primary">Next Steps:</h3>
                <ul class="text-sm list-disc list-inside space-y-1 text-text-light/80 dark:text-text-dark/80">
                    <li>We have sent the final payment details to your WhatsApp.</li>
                    <li>Please make the payment using GPay/UPI and share the screenshot on WhatsApp.</li>
                    <li>Your order will be processed immediately upon payment confirmation.</li>
                </ul>
            </div>

        </div>

        <div class="text-center mt-12 space-x-4">
            <button onclick="window.print()" class="inline-flex items-center justify-center rounded-full h-10 px-6 bg-primary/20 color-primary text-sm font-bold transition-opacity hover:opacity-90 duration-300">
                <span class="material-symbols-outlined text-lg mr-2">print</span> Print Invoice
            </button>
            <a href="orders.html" class="inline-flex items-center justify-center rounded-full h-10 px-6 bg-accent text-white text-sm font-bold transition-opacity hover:opacity-90 duration-300">
                <span class="material-symbols-outlined text-lg mr-2">history</span> View Order Status
            </a>
        </div>
    </main>
    
    <footer class="bg-black/5 dark:bg-white/5 text-text-light/80 dark:text-text-dark/80 px-6 md:px-10 lg:px-20 py-16 mt-16">
        <div class="max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-4 gap-12">
            <div class="md:col-span-2">
                <h3 class="text-lg font-bold text-text-light dark:text-text-dark mb-4">Contact Us</h3>
                <p class="text-sm mb-2">127 1/398, Near Nilgiris & Ganga Sweets, Rajiv Gandhi Salai, OMR, Navalur, Chennai 603 113</p>
                <p class="text-sm mb-1">Phone: 044-35353222, +91 99400 25345</p>
                <p class="text-sm">Email: sales@theflorist.co.in</p>
            </div>
            <div>
                <h3 class="text-lg font-bold text-text-light dark:text-text-dark mb-4">Quick Links</h3>
                <ul class="space-y-2 text-sm">
                    <li><a class="hover:text-primary transition duration-300" href="shop.html">Bouquets</a></li>
                    <li><a class="hover:text-primary transition duration-300" href="auth.html">My Account</a></li>
                    <li><a class="hover:text-primary transition duration-300" href="orders.html">Order History</a></li>
                    <li><a class="hover:text-primary transition duration-300" href="about.html">About Us</a></li>
                </ul>
            </div>
            <div>
                <h3 class="text-lg font-bold text-text-light dark:text-text-dark mb-4">Follow Us</h3>
                <div class="flex items-center gap-4">
                    <a class="hover:text-accent transition duration-300" href="#"><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.85s-.011 3.584-.069 4.85c-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07s-3.584-.012-4.85-.07c-3.252-.148-4.771-1.691-4.919-4.919-.058-1.265-.069-1.645-.069-4.85s.011-3.584.069-4.85c.149-3.225 1.664-4.771 4.919-4.919 1.266-.057 1.644-.069 4.85-.069zM12 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.162 6.162 6.162 6.162-2.759 6.162-6.162-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4s1.791-4 4-4 4 1.79 4 4-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44 1.441-.645 1.441-1.44c0-.795-.645-1.44-1.441-1.44z"/></svg></a>
                    <a class="hover:text-accent transition duration-300" href="#"><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v2.385z"/></svg></a>
                    <a class="hover:text-accent transition duration-300" href="#"><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616v.064c0 2.298 1.634 4.212 3.793 4.649-.65.177-1.336.213-2.033.16.586 1.913 2.344 3.217 4.422 3.255-1.728 1.345-3.837 2.088-6.04 1.88-1.893.121-3.837-.404-5.553-1.254 2.116 1.345 4.649 2.132 7.373 2.132 8.771 0 13.59-7.277 13.59-13.59 0-.205-.005-.41-.013-.615.932-.67 1.733-1.512 2.37-2.459z"/></svg></a>
                </div>
            </div>
        </div>
        <div class="text-center text-xs mt-12 border-t border-black/10 dark:border-white/10 pt-8">
            <p>Â© 2024 The Florist. All Rights Reserved. | Product subject to change as per availability.</p>
        </div>
    </footer>
</div>

<script>
    const orderKey = 'theFloristLastOrder';

    function loadLastOrder() {
        try {
            return JSON.parse(localStorage.getItem(orderKey));
        } catch (e) {
            return null;
        }
    }

    function renderInvoice() {
        const order = loadLastOrder();
        
        if (!order || order.items.length === 0) {
            document.querySelector('.bg-white').innerHTML = '<div class="text-center py-12 text-lg text-red-500">Error: No recent order data found. Please place an order first.</div>';
            return;
        }

        // 1. Update Header Info
        document.getElementById('invoice-order-id').textContent = order.orderID;
        document.getElementById('invoice-date').textContent = order.date;

        // 2. Update Item List
        const itemList = document.getElementById('invoice-item-list');
        itemList.innerHTML = ''; // Clear existing content

        order.items.forEach(item => {
            const row = document.createElement('tr');
            row.className = 'hover:bg-primary/5 transition duration-300';
            row.innerHTML = `
                <td class="py-2 text-sm font-medium">${item.name}</td>
                <td class="py-2 text-sm text-center">${item.quantity}</td>
                <td class="py-2 text-sm text-right">Rs. ${item.price.toFixed(2)}</td>
                <td class="py-2 text-sm font-semibold text-right">Rs. ${(item.price * item.quantity).toFixed(2)}</td>
            `;
            itemList.appendChild(row);
        });

        // 3. Update Totals
        document.getElementById('invoice-subtotal').textContent = `Rs. ${order.totals.subtotal.toFixed(2)}`;
        document.getElementById('invoice-delivery-charge').textContent = `Rs. ${order.totals.deliveryCharge.toFixed(2)}`;
        document.getElementById('invoice-order-total').textContent = `Rs. ${order.totals.total.toFixed(2)}`;
    }

    document.addEventListener('DOMContentLoaded', renderInvoice);
</script>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('animate-fadeIn');
                }
            });
        }, { threshold: 0.1 });

        document.querySelectorAll('.animate-fadeIn').forEach(element => {
            element.classList.remove('animate-fadeIn'); 
            observer.observe(element);
        });
    });
</script>


<!-- Mobile Menu + Chatbot -->
<script>
document.addEventListener("DOMContentLoaded", function() {
  const btn = document.querySelector('[data-mobile-toggle]');
  const menu = document.querySelector('[data-mobile-menu]');
  if(btn && menu){
    btn.addEventListener('click', ()=> menu.classList.toggle('hidden'));
  }
  // Chatbot
  const botBtn = document.createElement('button');
  botBtn.textContent="ðŸ’¬";
  botBtn.style.cssText="position:fixed;bottom:20px;right:20px;padding:10px;border-radius:50%;background:#ff69b4;color:#fff;font-size:20px;z-index:9999;";
  document.body.appendChild(botBtn);
  const box=document.createElement('div');
  box.style.cssText="position:fixed;bottom:80px;right:20px;width:280px;height:360px;background:#fff;border:1px solid #ddd;border-radius:10px;display:none;flex-direction:column;overflow:hidden;z-index:9999;";
  box.innerHTML='<div style="background:#ff69b4;color:#fff;padding:8px;">Florist Assistant</div><div id="cb" style="flex:1;padding:8px;overflow:auto;font-size:14px;"></div><div style="padding:6px;display:flex;gap:4px;"><input id="ci" style="flex:1;border:1px solid #ccc;padding:4px;border-radius:6px;"><button id="cs" style="padding:4px 8px;background:#ff69b4;color:#fff;border:none;border-radius:6px;">Send</button></div>';
  document.body.appendChild(box);
  botBtn.onclick=()=> box.style.display= box.style.display==="none"?"flex":"none";
  function reply(t){document.getElementById("cb").innerHTML+=`<div style="margin:4px 0;color:#555;">${t}</div>`;}
  document.getElementById("cs")?.addEventListener("click", ()=>{
    let v=document.getElementById("ci").value.trim(); if(!v)return;
    reply("You: "+v); document.getElementById("ci").value="";
    reply("Bot: Thanks for reaching out! Weâ€™ll help you with bouquets, deliveries, and custom floral arrangements ðŸŒ¸");
  });
});
</script>

</body>
</html>